<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/header.ejs') %>
<body>
    <!-- Top Nav Bar -->
<!-- Top Nav Bar -->
<%- include('./partials/navbar.ejs') %>
   
         <!-- Main Container -->
    <main class="main-container">
        <!-- Appointment Form Section -->
        <section class="appointment-section">
            <h1>Schedule an Appointment</h1>
            <p>Thank you for choosing to save lives! Scheduling a blood donation appointment is simple and ensures that your time is well-utilized. Your donation can make a difference to those in need.</p>
            
            <form id="appointment-form-submit" class="space-y-4">
                <!-- Full Name -->
                <div class="flex flex-col">
                    <label for="name" class="text-gray-700 font-medium mb-1">Full Name:</label>
                    <input type="text" id="name" name="name" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none" required>
                </div>
                
                <!-- Email -->
                <div class="flex flex-col">
                    <label for="email" class="text-gray-700 font-medium mb-1">Email Address:</label>
                    <input type="email" id="email" name="email" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none" required>
                </div>
                
                <!-- Phone Number -->
                <div class="flex flex-col">
                    <label for="phone" class="text-gray-700 font-medium mb-1">Phone Number:</label>
                    <input type="tel" id="phone" name="phone" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none" required>
                </div>

                <!-- Date of Birth -->
                <div class="flex flex-col">
                    <label for="dob" class="text-gray-700 font-medium mb-1">Date of Birth:</label>
                    <input type="date" id="dob" name="dob" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none" required>
                </div>  

                <div class="flex flex-col">
                    <label for="province" class="text-gray-700 font-medium mb-1">Province</label>
                    <select id="province" name="province" onchange="fetchDistricts()" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <option value="">Select Province</option>
                    </select>
                </div>

                <!-- District -->
                <div class="flex flex-col">
                    <label for="district" class="text-gray-700 font-medium mb-1">District</label>
                    <select id="district" name="district" onchange="fetchSectors()" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <option value="">Select District</option>
                    </select>
                </div>
        
                <!-- Sector -->
                <div class="flex flex-col">
                    <label for="sector" class="text-gray-700 font-medium mb-1">Sector</label>
                    <select id="sector" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none focus:ring-2 focus:ring-indigo-500" name="sector" onchange="autofillDistrictAndProvince()">
                        <option value="">Select Sector</option>
                    </select>
                </div>
                            <!-- Donation Center -->
                <div class="flex flex-col">
                    <label for="donationCenter" class="text-gray-700 font-medium mb-1">Donation Center</label>
                    <select id="donationCenter" name="donationCenter" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none">
                        <option value="">Select Donation Center</option>
                    </select>
                </div>

                <!-- Preferred Date -->
                <div class="flex flex-col">
                    <label for="scheduleDate" class="text-gray-700 font-medium mb-1">Preferred Date:</label>
                    <select id="scheduleDate" name="scheduleDate" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none">
                        <!-- Options will be dynamically populated by JS -->
                    </select>
                </div>

                <label for="time">Preferred Time:</label>
                <input type="time" id="time" name="time" required  class="iniputs">

                <div class="flex flex-col">
                    <label for="bloodGroup" class="text-gray-700 font-medium mb-1">Blood Type:</label>
                    <select id="bloodGroup" name="bloodGroup" class="border border-gray-300 rounded-lg p-3 w-full focus:outline-none">
                        <option value="">Select Blood Type</option>
                        <!-- Options for blood type can be dynamically populated -->
                    </select>
                </div>

                <label for="notes">Additional Information:</label>
                <textarea id="notes" name="notes" rows="4"></textarea>

                <button  class="btn" type="submit">Schedule Appointment</button >
            </form>
        </section>

        <!-- Sidebar Section -->
        <section class="sidebar">
            <!-- Appointment Guidelines Section -->
            <div class="guidelines-section">
                <h2>Appointment Guidelines</h2>
                <p>Please bring a valid ID and your donor card if you have one. Ensure you are well-hydrated and have eaten a nutritious meal before donating.</p>
            </div>

            <!-- Nearby Location Section -->
            <div class="locations-section">
                <h2>Nearby Locations</h2>
                <div id="map">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3987.4904967765115!2d30.091601274726038!3d-1.9572991980249599!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19dca70db400d5bb%3A0x6580bf2955d41d2c!2sRwanda%20Biomedical%20Center!5e0!3m2!1sen!2srw!4v1726817891777!5m2!1sen!2srw" width="400" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
             <div class="paragraph">
                <p>Visit us at one of our convenient locations across Rwanda.</p>
             </div>
            
            

            <!-- Contact Information Section -->
            <div class="contact-info">
                <h2>Need Assistance?</h2>
                <p>For help with scheduling or any other inquiries, please contact us:</p>
                <p><i class="fas fa-envelope"></i> Email: support@rwandabloodbridge.com</p>
                <p><i class="fas fa-phone"></i> Phone: +250 123 456 789</p>
            </div>

            <!-- FAQ Section -->
            <div class="faq-section">
                <h2>Frequently Asked Questions</h2>
                <div class="faq-item">
                    <p><strong>Q: Can I reschedule my appointment?</strong></p>
                    <p>A: Yes, you can reschedule your appointment by contacting us at least 24 hours in advance.</p>
                </div>
                <div class="faq-item">
                    <p><strong>Q: What should I do before donating blood?</strong></p>
                    <p>A: Make sure to eat a healthy meal and drink plenty of water before your appointment.</p>
                </div>
                <!-- Add more FAQs as needed -->
            </div>
        </section>
    </main>

    <script src="/js/appointmentmain.js"></script>  <!-- JavaScript for handling appointments -->
    <script src="/js/locationsLoader.js"></script>  <!-- JavaScript for handling dynamic locations -->    
    <!-- Footer with Social Icons -->
    <%- include('./partials/footer.ejs') %>
    </body>
   </html>